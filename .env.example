BRAND=cms-catch

# Sanity CMS Configuration
NEXT_PUBLIC_SANITY_DATASET=production
NEXT_PUBLIC_SANITY_PROJECT_ID=yourProjectId
NEXT_PUBLIC_SANITY_STUDIO_URL=http://localhost:3000/studio

# Sanity Write Token (for server-side mutations)
# Generate in Sanity Studio: Manage → API → Tokens → Add API token
# SECURITY: Scope to minimal required permissions (Editor, not Admin)
#           Only grant access to the specific dataset needed
#           Never commit actual tokens - keep in .env.local (gitignored)
# Required for: Order status updates, content mutations
SANITY_WRITE_TOKEN=your-sanity-write-token-here

# Site Configuration
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# API Security

# Cache revalidation secret (for webhook endpoints)
# Generate with: openssl rand -base64 32
# SECURITY: Use different values per environment (dev/staging/prod)
#           Rotate periodically and after any suspected compromise
REVALIDATION_SECRET=your-secret-token-here

# Internal API authentication (for server-to-server communication)
# Generate with: openssl rand -base64 32
# SECURITY: Server-only secret for /api/orders/update-status and similar routes
#           Never expose to browser/client-side code
#           Rotate periodically and use different values per environment
INTERNAL_API_KEY=your-internal-api-key-here

# Rate Limiting Configuration (optional)
# Cleanup threshold for in-memory rate limiter
# Default: 75 entries
# - High traffic sites: increase to 150-200 to reduce cleanup frequency
# - Low traffic sites: decrease to 50 to minimize memory usage
# RATE_LIMIT_CLEANUP_THRESHOLD=75

# Require verified IP addresses for rate limiting (optional)
# When true, rejects requests without valid proxy headers (CF-Connecting-IP, X-Real-IP, X-Forwarded-For)
# Default: false (development-friendly)
# Production: Consider setting to true when behind trusted proxy/CDN
# REQUIRE_VERIFIED_IP=false
